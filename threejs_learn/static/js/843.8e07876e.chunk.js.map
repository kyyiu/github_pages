{"version":3,"file":"static/js/843.8e07876e.chunk.js","mappings":"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","sources":["utils/stats.js","practice/particle/sprite.js"],"sourcesContent":["/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nexport const Stats = function () {\r\n\r\n\tvar startTime = Date.now(), prevTime = startTime;\r\n\tvar ms = 0, msMin = Infinity, msMax = 0;\r\n\tvar fps = 0, fpsMin = Infinity, fpsMax = 0;\r\n\tvar frames = 0, mode = 0;\r\n\r\n\tvar container = document.createElement( 'div' );\r\n\tcontainer.id = 'stats';\r\n\tcontainer.addEventListener( 'mousedown', function ( event ) { event.preventDefault(); setMode( ++ mode % 2 ) }, false );\r\n\tcontainer.style.cssText = 'width:80px;opacity:0.9;cursor:pointer';\r\n\r\n\tvar fpsDiv = document.createElement( 'div' );\r\n\tfpsDiv.id = 'fps';\r\n\tfpsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#002';\r\n\tcontainer.appendChild( fpsDiv );\r\n\r\n\tvar fpsText = document.createElement( 'div' );\r\n\tfpsText.id = 'fpsText';\r\n\tfpsText.style.cssText = 'color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\r\n\tfpsText.innerHTML = 'FPS';\r\n\tfpsDiv.appendChild( fpsText );\r\n\r\n\tvar fpsGraph = document.createElement( 'div' );\r\n\tfpsGraph.id = 'fpsGraph';\r\n\tfpsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0ff';\r\n\tfpsDiv.appendChild( fpsGraph );\r\n\r\n\twhile ( fpsGraph.children.length < 74 ) {\r\n\r\n\t\tvar bar = document.createElement( 'span' );\r\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#113';\r\n\t\tfpsGraph.appendChild( bar );\r\n\r\n\t}\r\n\r\n\tvar msDiv = document.createElement( 'div' );\r\n\tmsDiv.id = 'ms';\r\n\tmsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#020;display:none';\r\n\tcontainer.appendChild( msDiv );\r\n\r\n\tvar msText = document.createElement( 'div' );\r\n\tmsText.id = 'msText';\r\n\tmsText.style.cssText = 'color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\r\n\tmsText.innerHTML = 'MS';\r\n\tmsDiv.appendChild( msText );\r\n\r\n\tvar msGraph = document.createElement( 'div' );\r\n\tmsGraph.id = 'msGraph';\r\n\tmsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0f0';\r\n\tmsDiv.appendChild( msGraph );\r\n\r\n\twhile ( msGraph.children.length < 74 ) {\r\n\r\n\t\tvar bar = document.createElement( 'span' );\r\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#131';\r\n\t\tmsGraph.appendChild( bar );\r\n\r\n\t}\r\n\r\n\tvar setMode = function ( value ) {\r\n\r\n\t\tmode = value;\r\n\r\n\t\tswitch ( mode ) {\r\n\r\n\t\t\tcase 0:\r\n\t\t\t\tfpsDiv.style.display = 'block';\r\n\t\t\t\tmsDiv.style.display = 'none';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tfpsDiv.style.display = 'none';\r\n\t\t\t\tmsDiv.style.display = 'block';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tvar updateGraph = function ( dom, value ) {\r\n\r\n\t\tvar child = dom.appendChild( dom.firstChild );\r\n\t\tchild.style.height = value + 'px';\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tREVISION: 11,\r\n\r\n\t\tdomElement: container,\r\n\r\n\t\tsetMode: setMode,\r\n\r\n\t\tbegin: function () {\r\n\r\n\t\t\tstartTime = Date.now();\r\n\r\n\t\t},\r\n\r\n\t\tend: function () {\r\n\r\n\t\t\tvar time = Date.now();\r\n\r\n\t\t\tms = time - startTime;\r\n\t\t\tmsMin = Math.min( msMin, ms );\r\n\t\t\tmsMax = Math.max( msMax, ms );\r\n\r\n\t\t\tmsText.textContent = ms + ' MS (' + msMin + '-' + msMax + ')';\r\n\t\t\tupdateGraph( msGraph, Math.min( 30, 30 - ( ms / 200 ) * 30 ) );\r\n\r\n\t\t\tframes ++;\r\n\r\n\t\t\tif ( time > prevTime + 1000 ) {\r\n\r\n\t\t\t\tfps = Math.round( ( frames * 1000 ) / ( time - prevTime ) );\r\n\t\t\t\tfpsMin = Math.min( fpsMin, fps );\r\n\t\t\t\tfpsMax = Math.max( fpsMax, fps );\r\n\r\n\t\t\t\tfpsText.textContent = fps + ' FPS (' + fpsMin + '-' + fpsMax + ')';\r\n\t\t\t\tupdateGraph( fpsGraph, Math.min( 30, 30 - ( fps / 100 ) * 30 ) );\r\n\r\n\t\t\t\tprevTime = time;\r\n\t\t\t\tframes = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn time;\r\n\r\n\t\t},\r\n\r\n\t\tupdate: function () {\r\n\r\n\t\t\tstartTime = this.end();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport * as Three from 'three'\r\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls'\r\nimport { gsap } from \"gsap\";\r\nimport { Stats } from \"../../utils/stats\";\r\nconst sence = new Three.Scene();\r\nconst camera = new Three.PerspectiveCamera(\r\n    45,\r\n    window.innerWidth/window.innerHeight,\r\n    0.1,\r\n    1000\r\n)\r\n\r\ncamera.position.set(0,0,10)\r\nsence.add(camera)\r\n\r\nconst renderer = new Three.WebGLRenderer()\r\nconst controls = new OrbitControls(camera, renderer.domElement)\r\n// 设置阻尼，让控制器更真实, 必须在动画循环调用update方法\r\ncontrols.enableDamping = true\r\nrenderer.setSize(window.innerWidth, window.innerHeight)\r\nlet mounted = false\r\nlet tween, stats, isCheck, mouse = new Three.Vector2()\r\nexport default function() {\r\n    const container = useRef()\r\n  \r\n    useEffect(() => {\r\n      if (mounted) return\r\n      mounted = true\r\n      init()\r\n      window.addEventListener( 'resize', onWindowResize, false );//窗口变化监听\r\n      camera.position.set(0, 0 , 150)\r\n      container.current.appendChild(renderer.domElement)\r\n      refresh()\r\n    }, [])\r\n\r\n    function init() {\r\n      stats = initStats()\r\n      createSprites()\r\n    }\r\n\r\n    function createSprites() {\r\n      for(let x = -5; x< 5;x++) {\r\n        for(let y = -5; y < 5; y++) {\r\n          let m = new Three.SpriteMaterial({color: 0xff0000 * Math.random()})\r\n          let sprite = new Three.Sprite(m)\r\n          let ad = Math.PI / 180 * (360 * Math.random())\r\n          let bd = Math.PI / 180 * (360 * Math.random())\r\n          sprite.position.set(40 * Math.cos(ad)*Math.cos(bd), 40*Math.cos(ad)*Math.sin(bd), 40*Math.sin(ad))\r\n          move(0,0,0, sprite)\r\n          sence.add(sprite)\r\n        }\r\n      }\r\n    }\r\n\r\n    function move(mx, my, mz, point) {\r\n      gsap.to(point.position, {\r\n        x: mx,\r\n        y: my,\r\n        z: mz,\r\n        ease: 'circ.inOut',\r\n        duration: 5,\r\n        repeat: -1,\r\n        yoyo: true,\r\n      })\r\n    }\r\n\r\n    function initStats() {\r\n      const s = new Stats()\r\n      s.setMode(0)\r\n      s.domElement.style.position = 'absolute'\r\n      s.domElement.style.left = '0px'\r\n      s.domElement.style.top = '0px'\r\n      document.getElementById(\"Stats-output\").appendChild(s.domElement);\r\n      return s\r\n    }\r\n\r\n\r\n\r\n    function onWindowResize() {\r\n      const width = window.innerWidth;\r\n      const height = window.innerHeight;\r\n\r\n      camera.aspect = width / height;//获得当前摄像机缩放比\r\n      camera.updateProjectionMatrix();//更新矩阵\r\n      renderer.setSize( width, height );\r\n    }\r\n\r\n    function refresh(time) {\r\n      stats.update()\r\n      renderer.render(sence, camera)\r\n      window.requestAnimationFrame(refresh)\r\n    }\r\n  \r\n    return <div>\r\n      <div id=\"Stats-output\"></div>\r\n      <div ref={container}></div>\r\n    </div> \r\n  }"],"names":["Stats","startTime","Date","now","prevTime","ms","msMin","Infinity","msMax","fps","fpsMin","fpsMax","frames","mode","container","document","createElement","id","addEventListener","event","preventDefault","setMode","style","cssText","fpsDiv","appendChild","fpsText","innerHTML","fpsGraph","children","length","bar","msDiv","msText","msGraph","value","display","updateGraph","dom","firstChild","height","REVISION","domElement","begin","end","time","Math","min","max","textContent","round","update","this","sence","Three","camera","window","innerWidth","innerHeight","position","set","add","renderer","OrbitControls","enableDamping","setSize","stats","mounted","useRef","move","mx","my","mz","point","gsap","x","y","z","ease","duration","repeat","yoyo","onWindowResize","width","aspect","updateProjectionMatrix","refresh","render","requestAnimationFrame","useEffect","s","left","top","getElementById","initStats","m","color","random","sprite","ad","PI","bd","cos","sin","createSprites","current","_jsxs","_jsx","ref"],"sourceRoot":""}